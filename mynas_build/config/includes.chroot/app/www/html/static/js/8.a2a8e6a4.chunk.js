"use strict";(self.webpackChunkmypxe_admin=self.webpackChunkmypxe_admin||[]).push([[8],{89008:function(n,e,t){t.r(e);var s=t(37762),a=t(93433),r=t(1413),i=t(29439),c=t(47313),o=t(51629),u=t(70501),d=t(66835),l=t(23477),h=t(24076),Z=t(67478),f=t(57861),x=t(69099),p=t(99783),j=t(37982),v=t(46417);e.default=function(n){var e=(0,j.useData)(),t=e.global_data,k=(e.api,(0,c.useState)([])),g=(0,i.Z)(k,2),m=g[0],w=(g[1],(0,c.useState)(!0)),_=(0,i.Z)(w,2),C=(_[0],_[1],(0,c.useState)(0)),S=(0,i.Z)(C,2),y=S[0],b=S[1],P=(0,c.useState)(10),D=(0,i.Z)(P,2),A=D[0],I=D[1],R=(0,c.useState)({online:!1,status_text:"\u79bb\u7ebf"}),z=(0,i.Z)(R,2),B=(z[0],z[1],(0,c.useState)({data:[],disks:n.data||[]})),E=(0,i.Z)(B,2),L=E[0],T=E[1],F=function(n){T((function(e){return(0,r.Z)((0,r.Z)({},e),n)}))},H=(0,c.useState)(""),O=(0,i.Z)(H,2),q=O[0],G=(O[1],L.disks.filter((function(n){return Object.values(n).some((function(n){return n.toString().toLowerCase().includes(q.toLowerCase())}))})));return(0,c.useEffect)((function(){F({disks:n.data});t.get("blockdevices");var e=function(e){var i,c=t.get("blockdevices"),o=m,u=(0,a.Z)(L.disks),d=(0,s.Z)(n.data);try{var l=function(){var n=i.value,e=u.findIndex((function(e){return e.path==n.path}));e<0&&u.push(n)};for(d.s();!(i=d.n()).done;)l()}catch(Z){d.e(Z)}finally{d.f()}var h=e;o.forEach((function(n){var e=h.filter((function(e){return n.path=="/dev/".concat(e.Device)}))[0];if(c){var t=c.filter((function(e){return e.path===n.path}))[0];if(e&&t){var s=u.findIndex((function(e){return e.path==n.path}));s>=0?u.splice(s,1,(0,r.Z)((0,r.Z)({},t),{},{id:n.path},e)):u.push((0,r.Z)((0,r.Z)({},t),{},{id:n.path},e))}}})),F({disks:(0,a.Z)(u)})};return t.watch("sysstat",e),function(){t.unwatch("sysstat",e)}}),[n.data]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{component:u.Z,children:(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(l.Z,{children:(0,v.jsxs)(h.Z,{children:[(0,v.jsx)(Z.Z,{children:"\u8bbe\u5907"}),(0,v.jsx)(Z.Z,{children:"PATH"}),(0,v.jsx)(Z.Z,{children:"\u6807\u8bc6"}),(0,v.jsx)(Z.Z,{children:"\u5bb9\u91cf"}),(0,v.jsx)(Z.Z,{children:"\u8bfb\u53d6"}),(0,v.jsx)(Z.Z,{children:"\u5199\u5165"})]})}),(0,v.jsx)(f.Z,{children:G.slice(y*A,y*A+A).map((function(e){return(0,v.jsxs)(h.Z,{children:[(0,v.jsxs)(Z.Z,{children:[n.onDown&&(0,v.jsx)(x.Z,{onClick:function(){return n.onDown(e)},children:"\u4e0b\u7ebf"}),n.onAdd&&n.check_add_status&&n.check_add_status(e)&&(0,v.jsx)(x.Z,{onClick:function(){return n.onAdd(e)},children:"\u6dfb\u52a0\u5230\u6c60"}),n.onRemove&&(0,v.jsx)(x.Z,{onClick:function(){return n.onRemove(e)},children:"\u79fb\u9664"})]}),(0,v.jsx)(Z.Z,{children:e.path}),(0,v.jsxs)(Z.Z,{children:[e.model," ",e.serial," ",e.size]}),(0,v.jsx)(Z.Z,{children:e.size}),(0,v.jsx)(Z.Z,{children:e["kB_read/s"]}),(0,v.jsx)(Z.Z,{children:e["kB_wrtn/s"]})]},e.path)}))})]})}),(0,v.jsx)(p.Z,{component:"div",count:G.length,page:y,onPageChange:function(n,e){b(e)},rowsPerPage:A,onRowsPerPageChange:function(n){I(parseInt(n.target.value,10)),b(0)},style:{marginTop:"1rem"}})]})}}}]);