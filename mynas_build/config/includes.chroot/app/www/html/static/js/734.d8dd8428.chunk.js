"use strict";(self.webpackChunkmypxe_admin=self.webpackChunkmypxe_admin||[]).push([[734],{18161:function(e,t,n){n.r(t);var i=n(1413),o=n(29439),r=n(47313),d=n(49461),a=n.n(d),u=n(42584),f=n(70501),c=n(4363),h=n(46417),l=(0,r.forwardRef)((function(e,t){(0,c.useWindowManager)();var n=e.onActive,d=e.onMinimize,l=(0,r.useRef)(null),s=(0,r.useState)({width:e.width||500,height:e.height||500,left:e.left,top:e.top,isMaximized:true,default_positon:{x:0,y:0}}),x=(0,o.Z)(s,2),g=x[0],z=x[1];(0,r.useEffect)((function(){p()}),[]);var p=function(){var t={width:g.width,height:g.height,left:g.left,top:g.top,old_drag_state:(0,i.Z)({},l.current.state),default_postion:g.default_positon};l.current.state.x=0,l.current.state.y=0,z((0,i.Z)((0,i.Z)({},g),{},{isMaximized:!0,width:e.maxwidth,height:e.maxheight,left:0,top:0,default_positon:{x:0,y:0},org_size:t}))};return(0,h.jsx)(a(),{handle:".window-title",zIndex:e.zIndex,defaultPosition:g.default_positon,onDrag:function(e){n(e)},ref:l,children:(0,h.jsx)(u.Resizable,{width:g.width,height:g.height,onResize:function(e,t){t.node;var o=t.size;t.handle;n(e),z((0,i.Z)((0,i.Z)({},g),{},{width:o.width,height:o.height}))},resizeHandles:["e","se","s"],children:(0,h.jsx)(f.Z,{sx:{position:"absolute",left:g.left,top:g.top,width:g.width,height:g.height,zIndex:e.zIndex,display:e.hidden?"none":"block",overflow:"auto"},children:r.cloneElement(e.children,(0,i.Z)((0,i.Z)({},e),{},{onRestore:function(){l.current.state.x=g.org_size.old_drag_state.x,l.current.state.y=g.org_size.old_drag_state.y,z((0,i.Z)((0,i.Z)({},g),{},{isMaximized:!1},g.org_size))},onMinimize:function(){var e={width:g.width,height:g.height,left:g.left,top:g.top,old_drag_state:(0,i.Z)({},l.current.state),default_postion:g.default_positon};z((0,i.Z)((0,i.Z)({},g),{},{org_size:e})),d()},onMaximize:p,isMaximized:g.isMaximized}))})})})}));t.default=l},4363:function(e,t,n){n.r(t),n.d(t,{WindowManagerProvider:function(){return s},useWindowManager:function(){return h}});var i=n(1413),o=n(93433),r=n(37762),d=n(29439),a=n(47313),u=n(18161),f=n(46417),c=(0,a.createContext)(),h=function(){return(0,a.useContext)(c)},l=1e3,s=function(e){var t=e.children,n=(0,a.useState)([]),h=(0,d.Z)(n,2),s=h[0],x=h[1],g=function(e){x((function(t){return t.filter((function(t){return t.id!==e}))}))},z=function(e){x((function(t){var n,i=t,d=(0,r.Z)(i);try{for(d.s();!(n=d.n()).done;){var u=n.value;u.id===e&&(u.content=a.cloneElement(u.content,{hidden:!0}))}}catch(f){d.e(f)}finally{d.f()}return(0,o.Z)(i)}))},p=function(e){x((function(t){var n,i=t,d=(0,r.Z)(i);try{for(d.s();!(n=d.n()).done;){var u=n.value;u.id!=e&&u.zIndex==l&&(u.zIndex=u.org_zIndex,u.content=a.cloneElement(u.content,{zIndex:u.zIndex})),u.id===e&&(u.zIndex=l,u.content=a.cloneElement(u.content,{zIndex:u.zIndex,hidden:!1}))}}catch(f){d.e(f)}finally{d.f()}return(0,o.Z)(i)}))};return(0,f.jsx)(c.Provider,{value:{windows:s,openWindow:function(e,t,n,r){var d=s,c=d.filter((function(e){return e.id==t}))[0];if(c)p(c.id);else{var h=function(n){var o=(0,i.Z)((0,i.Z)({},n),{},{onActive:function(){return p(t)},onMinimize:function(){return z(t)},maxwidth:e.current.offsetWidth,maxheight:e.current.offsetHeight}),d=a.cloneElement(r,{id:t,maxwidth:e.current.offsetWidth,maxheight:e.current.offsetHeight,onClose:function(e){e.preventDefault(),g(t)},onActive:function(e){e.preventDefault(),p(t)},zIndex:l});return(0,f.jsx)(u.default,(0,i.Z)((0,i.Z)({},o),{},{children:d}))},w={id:t,title:n,left:0,top:0,org_zIndex:1,zIndex:l,content:(0,f.jsx)(h,{zIndex:l},t)},v=[].concat((0,o.Z)(d),[w]);x(v),p(t)}},closeWindow:g,minWindow:z,getApps:function(){return s},activeApp:p},children:t})}}}]);