"use strict";(self.webpackChunkmypxe_admin=self.webpackChunkmypxe_admin||[]).push([[953,523,103,726],{41523:function(t,r,e){e.r(r);var n=e(47313),a=e(75908),o=e(9289),i=e(61113),s=e(47131),c=e(24272),l=e(96944),u=e(36555),p=e(8586),d=(e(37982),e(46417)),f=(0,n.forwardRef)((function(t,r){var e=t.onActive,n=t.onClose,f=t.onRestore,v=t.onMaximize,m=t.onMinimize;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{sx:{position:"relative"},children:(0,d.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[(0,d.jsx)(i.Z,{variant:"h6",component:"div",sx:{flexGrow:1,cursor:"move"},className:"window-title",onClick:e,children:t.title}),(0,d.jsx)(s.Z,{color:"inherit",onClick:m,children:(0,d.jsx)(c.Z,{})}),t.isMaximized?(0,d.jsx)(s.Z,{color:"inherit",onClick:f,children:(0,d.jsx)(l.Z,{})}):(0,d.jsx)(s.Z,{color:"inherit",onClick:v,children:(0,d.jsx)(u.Z,{})}),(0,d.jsx)(s.Z,{color:"inherit",onClick:n,children:(0,d.jsx)(p.Z,{})})]})}),t.children]})}));r.default=f},73953:function(t,r,e){e.r(r),e.d(r,{default:function(){return d}});var n=e(1413),a=e(29439),o=e(47313),i=(e(4434),e(10103),e(82435)),s=e(10437),c=e(82294),l=e(65280),u=e(46417),p={samba:{label:"samba",rix_type:"component",path:"components/samba.js"},docker:{label:"docker",rix_type:"component",path:"components/Docker.js"}};function d(){var t=o.useState("samba"),r=(0,a.Z)(t,2),e=r[0],d=r[1],f=function(t){var r=p[e];if(r){var a=(0,n.Z)((0,n.Z)({},t),r);return(0,u.jsx)(i.default,(0,n.Z)((0,n.Z)({},a),{},{value:e}))}return(0,u.jsx)(u.Fragment,{})};return(0,u.jsxs)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:[(0,u.jsx)(c.Z,{value:e,onChange:function(t,r){t.preventDefault(),d(r)},"aria-label":"setting",children:Object.keys(p).map((function(t){return(0,u.jsx)(l.Z,{value:t,label:p[t].label},t)}))}),(0,u.jsx)(f,{},e)]})}},10103:function(t,r,e){e.r(r),e.d(r,{default:function(){return m}});var n=e(1413),a=e(74165),o=e(15861),i=e(29439),s=e(47313),c=e(15726),l=e(46817),u=e(37982),p=e(40762),d=e(69099),f=e(41523),v=e(46417);function m(t){var r=(0,u.useData)(),e=(r.global_data,r.api,(0,s.useState)("")),m=(0,i.Z)(e,2),x=m[0],Z=m[1],h=(0,s.useState)({type:"string",format:"textarea",title:"samba\u914d\u7f6e",default:"",options:{input_height:"500px"}}),b=(0,i.Z)(h,2),g=b[0],k=(b[1],(0,s.useRef)(null)),w=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.get_config();case 2:r=t.sent,Z(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){w()}),[]);var j=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(){var r,e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=k.current.getValue(),t.next=4,c.default.save_config(r);case 4:e=t.sent,Z(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("update samba error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.restat();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(f.default,(0,n.Z)((0,n.Z)({title:"\u5171\u4eab\u670d\u52a1\u5668"},t),{},{children:(0,v.jsxs)(p.Z,{style:{width:"100vh",height:"100%"},children:[(0,v.jsx)(l.default,{schema:g,data:x,ref:k,style:{width:"100vh",height:"100%"}}),(0,v.jsx)(d.Z,{onClick:j,children:"\u66f4\u65b0"}),(0,v.jsx)(d.Z,{onClick:C,children:"\u91cd\u542f"})]})}))})}},15726:function(t,r,e){e.r(r);var n=e(74165),a=e(15861),o=e(4434),i={get_config:function(){return(0,a.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.config_file({op:"get",filename:"/etc/samba/smb.conf"});case 2:if(0!=(r=t.sent).ret){t.next=7;break}return t.abrupt("return",r.data);case 7:throw r;case 8:case"end":return t.stop()}}),t)})))()},save_config:function(t){return(0,a.Z)((0,n.Z)().mark((function r(){var e;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.default.config_file({op:"put",filename:"/etc/samba/smb.conf",data:t});case 2:if(0!=(e=r.sent).ret){r.next=5;break}return r.abrupt("return",e.data);case 5:throw e;case 6:case"end":return r.stop()}}),r)})))()},start:function(){return(0,a.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={command:"systemctl",args:["start","smbd.service"]},t.next=3,o.default.run_command(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},stop:function(){return(0,a.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={command:"systemctl",args:["stop","smbd.service"]},t.next=3,o.default.run_command(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},restart:function(){var t=this;return(0,a.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.start();case 2:return r.next=4,t.stop();case 4:case"end":return r.stop()}}),r)})))()}};r.default=i},8586:function(t,r,e){var n=e(81171),a=e(46417);r.Z=(0,n.Z)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},36555:function(t,r,e){var n=e(81171),a=e(46417);r.Z=(0,n.Z)((0,a.jsx)("path",{d:"M3 3h18v2H3z"}),"Maximize")},24272:function(t,r,e){var n=e(81171),a=e(46417);r.Z=(0,n.Z)((0,a.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize")},96944:function(t,r,e){var n=e(81171),a=e(46417);r.Z=(0,n.Z)((0,a.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore")},75908:function(t,r,e){e.d(r,{Z:function(){return b}});var n=e(63366),a=e(87462),o=e(47313),i=e(83061),s=e(21921),c=e(17592),l=e(77342),u=e(91615),p=e(70501),d=e(77430),f=e(32298);function v(t){return(0,f.Z)("MuiAppBar",t)}(0,d.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var m=e(46417),x=["className","color","enableColorOnDark","position"],Z=function(t,r){return t?"".concat(null==t?void 0:t.replace(")",""),", ").concat(r,")"):r},h=(0,c.ZP)(p.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:function(t,r){var e=t.ownerState;return[r.root,r["position".concat((0,u.Z)(e.position))],r["color".concat((0,u.Z)(e.color))]]}})((function(t){var r=t.theme,e=t.ownerState,n="light"===r.palette.mode?r.palette.grey[100]:r.palette.grey[900];return(0,a.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===e.position&&{position:"fixed",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===e.position&&{position:"absolute",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===e.position&&{position:"sticky",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0},"static"===e.position&&{position:"static"},"relative"===e.position&&{position:"relative"},!r.vars&&(0,a.Z)({},"default"===e.color&&{backgroundColor:n,color:r.palette.getContrastText(n)},e.color&&"default"!==e.color&&"inherit"!==e.color&&"transparent"!==e.color&&{backgroundColor:r.palette[e.color].main,color:r.palette[e.color].contrastText},"inherit"===e.color&&{color:"inherit"},"dark"===r.palette.mode&&!e.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===e.color&&(0,a.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===r.palette.mode&&{backgroundImage:"none"})),r.vars&&(0,a.Z)({},"default"===e.color&&{"--AppBar-background":e.enableColorOnDark?r.vars.palette.AppBar.defaultBg:Z(r.vars.palette.AppBar.darkBg,r.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?r.vars.palette.text.primary:Z(r.vars.palette.AppBar.darkColor,r.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?r.vars.palette[e.color].main:Z(r.vars.palette.AppBar.darkBg,r.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?r.vars.palette[e.color].contrastText:Z(r.vars.palette.AppBar.darkColor,r.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===e.color?"inherit":"var(--AppBar-color)"},"transparent"===e.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),b=o.forwardRef((function(t,r){var e=(0,l.Z)({props:t,name:"MuiAppBar"}),o=e.className,c=e.color,p=void 0===c?"primary":c,d=e.enableColorOnDark,f=void 0!==d&&d,Z=e.position,b=void 0===Z?"fixed":Z,g=(0,n.Z)(e,x),k=(0,a.Z)({},e,{color:p,position:b,enableColorOnDark:f}),w=function(t){var r=t.color,e=t.position,n=t.classes,a={root:["root","color".concat((0,u.Z)(r)),"position".concat((0,u.Z)(e))]};return(0,s.Z)(a,v,n)}(k);return(0,m.jsx)(h,(0,a.Z)({square:!0,component:"header",ownerState:k,elevation:4,className:(0,i.default)(w.root,o,"fixed"===b&&"mui-fixed"),ref:r},g))}))},9289:function(t,r,e){e.d(r,{Z:function(){return Z}});var n=e(4942),a=e(63366),o=e(87462),i=e(47313),s=e(83061),c=e(21921),l=e(77342),u=e(17592),p=e(77430),d=e(32298);function f(t){return(0,d.Z)("MuiToolbar",t)}(0,p.Z)("MuiToolbar",["root","gutters","regular","dense"]);var v=e(46417),m=["className","component","disableGutters","variant"],x=(0,u.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(t,r){var e=t.ownerState;return[r.root,!e.disableGutters&&r.gutters,r[e.variant]]}})((function(t){var r=t.theme,e=t.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&(0,n.Z)({paddingLeft:r.spacing(2),paddingRight:r.spacing(2)},r.breakpoints.up("sm"),{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}),"dense"===e.variant&&{minHeight:48})}),(function(t){var r=t.theme;return"regular"===t.ownerState.variant&&r.mixins.toolbar})),Z=i.forwardRef((function(t,r){var e=(0,l.Z)({props:t,name:"MuiToolbar"}),n=e.className,i=e.component,u=void 0===i?"div":i,p=e.disableGutters,d=void 0!==p&&p,Z=e.variant,h=void 0===Z?"regular":Z,b=(0,a.Z)(e,m),g=(0,o.Z)({},e,{component:u,disableGutters:d,variant:h}),k=function(t){var r=t.classes,e={root:["root",!t.disableGutters&&"gutters",t.variant]};return(0,c.Z)(e,f,r)}(g);return(0,v.jsx)(x,(0,o.Z)({as:u,className:(0,s.default)(k.root,n),ref:r,ownerState:g},b))}))}}]);