"use strict";(self.webpackChunkmypxe_admin=self.webpackChunkmypxe_admin||[]).push([[538],{55113:function(n,e,r){r.r(e);var t=r(72791),i=r(84395),o=r(34663),c=r(20890),s=r(13400),l=r(54982),u=r(45675),a=r(52118),d=r(96739),f=(r(28714),r(80184)),h=(0,t.forwardRef)((function(n,e){var r=n.onActive,t=n.onClose,h=n.onRestore,x=n.onMaximize,w=n.onMinimize;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Z,{sx:{position:"relative"},children:(0,f.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[(0,f.jsx)(c.Z,{variant:"h6",component:"div",sx:{flexGrow:1,cursor:"move"},className:"window-title",onClick:r,children:n.title}),(0,f.jsx)(s.Z,{color:"inherit",onClick:w,children:(0,f.jsx)(l.Z,{})}),n.isMaximized?(0,f.jsx)(s.Z,{color:"inherit",onClick:h,children:(0,f.jsx)(u.Z,{})}):(0,f.jsx)(s.Z,{color:"inherit",onClick:x,children:(0,f.jsx)(a.Z,{})}),(0,f.jsx)(s.Z,{color:"inherit",onClick:t,children:(0,f.jsx)(d.Z,{})})]})}),n.children]})}));e.default=h},91933:function(n,e,r){r.r(e),r.d(e,{default:function(){return d}});var t=r(1413),i=r(72791),o=r(32699),c=r(83531),s=(r(56320),r(86142),r(19727)),l=r(98530),u=r(55113),a=r(80184);function d(n){var e=(0,i.useRef)(null),r=(0,i.useRef)(null),d=(0,i.useRef)(null),f=(n.onActive,n.onClose);n.onRestore,n.onMaximize,n.onMinimize;return(0,i.useEffect)((function(){console.log("api.init=====",window.location.host),d.current=new o.Terminal({rendererType:"canvas",convertEol:!0,scrollback:10,disableStdin:!1,cursorStyle:"underline",cursorBlink:!0}),d.prompt=function(){d.write("\r\n#")};var n=new c.FitAddon;d.current.loadAddon(n),n.fit();var t=window.location;return r.current=new WebSocket(("http:"==t.protocol?"ws://":"wss://")+t.host+"/api/ws/shell"),r.current.onopen=function(){d.current.open(e.current),d.current.focus(),d.current.onData((function(n){r.current.send(n)})),d.current.onResize((function(n){console.log("size===",n),r.current.send(JSON.stringify({resize:n}))})),r.current.onmessage=function(n){d.current.write(n.data)},r.current.onclose=function(n){d.current.writeln("WebSocket\u8fde\u63a5\u5df2\u5173\u95ed"),f(n)}},r.current.onerror=function(n){d.current.writeln("WebSocket\u8fde\u63a5\u51fa\u9519: "+n)},function(){r.current&&r.current.close(),d.current&&d.current.dispose()}}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.default,(0,t.Z)((0,t.Z)({title:"\u7ec8\u7aef"},n),{},{children:(0,a.jsx)(s.Z,{children:(0,a.jsx)(l.Z,{ref:e,width:"100vw",height:"100vh",p:2})})}))})}}}]);
//# sourceMappingURL=538.15d1e7fd.chunk.js.map